(self.webpackChunkmy_tasks=self.webpackChunkmy_tasks||[]).push([[143],{926:function(e,t,r){function n(e,t){const r=(0,s.useCallback)(t,[t]);(0,s.useEffect)((()=>{function t(){r(n.matches)}if("undefined"==typeof window)return;const n=window.matchMedia(e);return n.addEventListener("change",t),t(),()=>{n.removeEventListener("change",t)}}),[e,r])}function a(e){const[t,r]=(0,s.useState)(!1);return n(e,(0,s.useCallback)((e=>{r(e)}),[])),t}function o(e){const t=window.getComputedStyle(e);return new DOMMatrixReadOnly(t.transform).m41}r.r(t),r.d(t,{default:function(){return P}});var i=r(1504),s=r(7294),c=r(6378),u=r(9051);const d="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;var l=r(348),p=r(8505),m=r(3379),h=r.n(m),v=r(7795),f=r.n(v),y=r(569),b=r.n(y),g=r(3565),L=r.n(g),w=r(9216),x=r.n(w),A=r(4589),k=r.n(A),C=r(5931),E={};E.styleTagTransform=k(),E.setAttributes=L(),E.insert=b().bind(null,"head"),E.domAPI=f(),E.insertStyleElement=x();h()(C.Z,E),C.Z&&C.Z.locals&&C.Z.locals;var N=r(5893);let S,T;const R="(width > 828px)",M=(0,i.cn)("AppLayout-Nav"),O=(0,i.cn)("AppLayout-Overlay"),z=(0,i.cn)("AppLayout-Content"),j=e=>{e.style.visibility=""};var P=function(e){function t(e){y.current&&(y.current=!1,L.current.removeEventListener("touchmove",V),L.current.removeEventListener("touchstart",D),e.removeEventListener("touchstart",_),e.removeEventListener("touchmove",Z),e.removeEventListener("touchend",H))}function r(){k&&(w.current.style.height=`${L.current.firstChild.offsetHeight+1}px`)}const i=(0,s.useRef)(0),m=(0,s.useRef)(0),h=(0,s.useRef)(!1),v=(0,s.useRef)(!1),f=(0,s.useRef)(0),y=(0,s.useRef)(!1),b=(0,s.useRef)(0),g=(0,s.useRef)(.001),L=(0,s.useRef)(null),w=(0,s.useRef)(null),x=(0,s.useRef)(null),A=a(R),k=a("(height > 1024px)"),[C,E]=(0,s.useState)(!1),[P,X]=(0,s.useState)(!1),$=(0,s.useCallback)((()=>{if(""===window.location.search)return;const e=function(e){const t=new URLSearchParams(window.location.search),r=t.get("type"),n=t.get("title"),a=t.get("key");switch(r){case c.M4:{const e=Number(a);return(0,c.Vz)({type:r,title:(0,l.D)(new Date(e)),key:e})}case c.Xz:{const e=Number(a);return(0,c.r9)({type:r,title:n,key:e})}case c.Lv:return(0,c.lO)({type:r,title:n,key:a});case c.th:return(0,c.Ci)({type:r,title:n,key:a});default:return{error:{message:"Значение фильтра в адресе не верное",data:{type:r,title:n,key:a}}}}}(window.location.pathname);if(e.result)(0,p.q)(e.result);else{const{message:t,data:r}=e.error;u.kg.error(t,r)}}),[]);(0,s.useEffect)((()=>($(),window.addEventListener("popstate",$),()=>{window.removeEventListener("popstate",$)})),[$]);const _=(0,s.useCallback)((e=>{window.matchMedia(R).matches||L.current&&(clearTimeout(S),j(L.current),f.current=o(L.current),h.current=!0,b.current=Number(getComputedStyle(document.documentElement).getPropertyValue("--overlay-opacity").trim()),g.current=Math.abs(0-b.current)/300,i.current=e.touches[0].clientX,m.current=e.touches[0].clientY,L.current.style.transition="")}),[]),Z=(0,s.useCallback)((e=>{if(!h.current)return;if(e.touches.length>1)return;const t=e.touches[0].clientX,r=e.touches[0].clientY,n=t-i.current,a=r-i.current;if(L.current&&x.current){let e=Math.max(f.current+n,-L.current.offsetWidth);e>0&&(e=0),L.current.style.transform=`translateX(${e}px)`,x.current.style.opacity=(e*g.current+b.current).toString()}return a/n>.8?(e.stopPropagation(),!1):void 0}),[]),H=(0,s.useCallback)((e=>{if(h.current&&L.current&&x.current){h.current=!1;const t=e.changedTouches[0].clientX-i.current,r=f.current+t;if(0===t||Math.abs(t)<=8)return;t>0&&r>.85*-L.current.offsetWidth||t<0&&r>.15*-L.current.offsetWidth?(E(!0),X(!0),L.current.style.cssText="",x.current.style.cssText=""):(L.current.style.cssText="",x.current.style.cssText="",E(!1),X(!1),S=setTimeout(W,1e3))}}),[]),V=(0,s.useCallback)((e=>{h.current||e.stopPropagation()}),[]),D=(0,s.useCallback)((e=>{e.stopPropagation()}),[]);n("(pointer: coarse)",(e=>{const r=w.current;if(r){if(e)return n=r,y.current||(y.current=!0,L.current.addEventListener("touchmove",V,{passive:!0}),L.current.addEventListener("touchstart",D,{passive:!0}),n.addEventListener("touchstart",_,{passive:!0}),n.addEventListener("touchmove",Z,{passive:!0}),n.addEventListener("touchend",H,{passive:!0})),()=>{t(r)};t(r)}var n})),k&&w.current&&!1===v.current&&(v.current=!0,r());const W=()=>{0!==o(L.current)&&(L.current.style.visibility="hidden")};!function(e,t,r,n){const a=(0,s.useRef)(t);d((()=>{a.current=t}),[t]),(0,s.useEffect)((()=>{const t=r?.current??window;if(!t||!t.addEventListener)return;const o=e=>a.current(e);return t.addEventListener(e,o,n),()=>{t.removeEventListener(e,o,n)}}),[e,r,n])}("resize",(e=>{if(L.current&&x.current){r(),j(L.current);if(!1===matchMedia(R).matches){if(0===o(L.current)&&!1===P)return E(!0),void X(!0)}clearTimeout(S),S=setTimeout(W,1e3)}}),void 0,{passive:!0});const I=(0,s.useCallback)((()=>{if(L.current){clearTimeout(S);const e=0===o(L.current);!1===matchMedia(R).matches&&e&&(S=setTimeout(W,1e3),E(!1),X(!1))}}),[]),U=(0,s.useCallback)((()=>{if(L.current){clearTimeout(S);const e=0!==o(L.current);!1===matchMedia(R).matches&&(e&&j(L.current),E((e=>!e)),X((e=>!e)))}}),[]),Y=(0,s.useCallback)(((e,t)=>{clearTimeout(T);const r=new URLSearchParams(window.location.search);for(const[e,n]of Object.entries(t))r.set(e,String(n));const{protocol:n,host:a,pathname:o}=window.location,i=`${n}//${a}${o}?${r.toString()}`;(window.matchMedia("(pointer: coarse)").matches?history.replaceState:history.pushState)({},"",i),$();matchMedia(R).matches?I():T=setTimeout((()=>{I()}),250)}),[$,I]),{header:q,nav:B,content:F}=(0,s.useMemo)((()=>e.children({isNavVisible:C,toggleNavVisibility:U,showToggleNavButton:!1===A,handleSelectNavItem:Y})),[C,A,U,Y]);return(0,N.jsxs)("main",{className:"AppLayout",children:[(0,N.jsx)("header",{className:"AppLayout-Header",children:q}),(0,N.jsxs)("section",{ref:w,className:"AppLayout-Section",children:[(0,N.jsx)("nav",{ref:L,className:M({visible:C}),children:B}),(0,N.jsx)("div",{ref:x,className:O({visible:P}),onClick:I}),(0,N.jsx)("div",{className:z(),children:F})]})]})}},5931:function(e,t,r){var n=r(8081),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".AppLayout{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:100%;width:100%}.AppLayout-Header{width:100%}.AppLayout-Section{box-sizing:border-box;max-height:100%;overflow:hidden;position:relative}@media screen and (max-height:64rem){.AppLayout-Section{display:flex;flex:1}}.AppLayout-Nav{border:.0625rem solid var(--border-color);border-radius:0 var(--border-radius) var(--border-radius) 0;max-width:18.75rem;min-width:17.5rem;position:absolute;transform:translateX(-100%);transition:transform .5s ease;z-index:2}@media screen and (min-height:64.001rem){.AppLayout-Nav{border-bottom:0}}.AppLayout-Nav_visible{transform:translateX(0);transition:transform .5s ease;visibility:visible}.AppLayout-Content{position:relative;transition:left .3s ease;width:100%}.AppLayout-Content,.AppLayout-Nav{background:var(--background-color);box-sizing:border-box;height:100%;left:0;overflow-y:auto;right:0}.AppLayout-Overlay{background-color:var(--overlay-color);bottom:0;left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .5s ease;z-index:1}.AppLayout-Overlay_visible{opacity:var(--overlay-opacity);pointer-events:auto}@media screen and (min-width:40.001rem){:root{--layout-paddings:var(--x4)}.AppLayout-Header>*{padding-left:0;padding-right:0}.AppLayout-Content,.AppLayout-Nav,.AppLayout-Overlay{border-radius:var(--border-radius)}.AppLayout-Content,.AppLayout-Overlay{border:.0625rem solid var(--border-color)}.AppLayout-Content>*{border-radius:var(--border-radius);box-sizing:border-box}.AppLayout{max-height:calc(100% - var(--x2));padding-left:var(--layout-paddings);padding-right:var(--layout-paddings)}}@media screen and (min-width:40rem) and (max-width:51.75rem){.AppLayout{max-width:45rem}}@media screen and (min-width:51.751rem){.Root{padding-bottom:0;padding-left:var(--x4);padding-right:var(--x4);padding-top:0}.AppLayout{max-height:calc(100% - var(--x4));max-width:60rem}.AppLayout-Nav{max-width:18.75rem;transform:none}.AppLayout-Nav_visible{transform:none}.AppLayout-Overlay_visible{opacity:0}.AppLayout-Content{left:19.75rem;width:calc(100% - 19.75rem)}}",""]),t.Z=i}}]);