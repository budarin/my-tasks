!function(){"use strict";var e={793:function(e){function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var s=n&&n.stringify||t;if("object"==typeof e&&null!==e){var i=r.length+1;if(1===i)return e;var a=new Array(i);a[0]=s(e);for(var o=1;o<i;o++)a[o]=s(r[o]);return a.join(" ")}if("string"!=typeof e)return e;var c=r.length;if(0===c)return e;for(var l="",d=0,u=-1,g=e&&e.length||0,f=0;f<g;){if(37===e.charCodeAt(f)&&f+1<g){switch(u=u>-1?u:0,e.charCodeAt(f+1)){case 100:case 102:if(d>=c)break;if(null==r[d])break;u<f&&(l+=e.slice(u,f)),l+=Number(r[d]),u=f+2,f++;break;case 105:if(d>=c)break;if(null==r[d])break;u<f&&(l+=e.slice(u,f)),l+=Math.floor(Number(r[d])),u=f+2,f++;break;case 79:case 111:case 106:if(d>=c)break;if(void 0===r[d])break;u<f&&(l+=e.slice(u,f));var p=typeof r[d];if("string"===p){l+="'"+r[d]+"'",u=f+2,f++;break}if("function"===p){l+=r[d].name||"<anonymous>",u=f+2,f++;break}l+=s(r[d]),u=f+2,f++;break;case 115:if(d>=c)break;u<f&&(l+=e.slice(u,f)),l+=String(r[d]),u=f+2,f++;break;case 37:u<f&&(l+=e.slice(u,f)),l+="%",u=f+2,f++,d--}++d}++f}if(-1===u)return e;u<g&&(l+=e.slice(u));return l}},874:function(e,t,r){const n=r(793);e.exports=u;const s=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},i={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:h,res:h,err:b,errWithCause:b};function a(e,t){return"silent"===e?1/0:t.levels.values[e]}const o=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function d(e,t){const r={logger:t,parent:e[c]};t[c]=r}function u(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const r=e.browser.write||s;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},i=function(e,t){if(Array.isArray(e))return e.filter((function(e){return"!stdSerializers.err"!==e}));return!0===e&&Object.keys(t)}(e.browser.serialize,n);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const b=Object.keys(e.customLevels||{}),h=["error","fatal","warn","info","debug","trace"].concat(b);"function"==typeof r&&h.forEach((function(e){r[e]=r})),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const y=e.level||"info",v=Object.create(r);v.log||(v.log=_),function(e,t,r){const n={};t.forEach((e=>{n[e]=r[e]?r[e]:s[e]||s[l[e]||"log"]||_})),e[o]=n}(v,h,r),d({},v),Object.defineProperty(v,"levelVal",{get:function(){return a(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,g(this,w,v,"error"),g(this,w,v,"fatal"),g(this,w,v,"warn"),g(this,w,v,"info"),g(this,w,v,"debug"),g(this,w,v,"trace"),b.forEach((e=>{g(this,w,v,e)}))}});const w={transmit:t,serialize:i,asObject:e.browser.asObject,formatters:e.browser.formatters,levels:h,timestamp:m(e)};return v.levels=function(e){const t=e.customLevels||{},r=Object.assign({},u.levels.values,t),n=Object.assign({},u.levels.labels,function(e){const t={};return Object.keys(e).forEach((function(r){t[e[r]]=r})),t}(t));return{values:r,labels:n}}(e),v.level=y,v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=_,v.serializers=n,v._serialize=i,v._stdErrSerialize=c,v.child=function(r,s){if(!r)throw new Error("missing bindings for child Pino");s=s||{},i&&r.serializers&&(s.serializers=r.serializers);const a=s.serializers;if(i&&a){var o=Object.assign({},n,a),c=!0===e.browser.serialize?Object.keys(o):i;delete r.serializers,f([r],c,o,this._stdErrSerialize)}function l(e){this._childLevel=1+(0|e._childLevel),this.bindings=r,o&&(this.serializers=o,this._serialize=c),t&&(this._logEvent=p([].concat(e._logEvent.bindings,r)))}l.prototype=this;const u=new l(this);return d(this,u),u.level=this.level,u},t&&(v._logEvent=p()),v}function g(e,t,r,i){if(e[i]=a(e.level,r)>a(i,r)?_:r[o][i],!t.transmit&&e[i]===_)return;e[i]=function(e,t,r,i){return c=e[o][i],function(){const o=t.timestamp(),l=new Array(arguments.length),d=Object.getPrototypeOf&&Object.getPrototypeOf(this)===s?s:this;for(var u=0;u<l.length;u++)l[u]=arguments[u];if(t.serialize&&!t.asObject&&f(l,this._serialize,this.serializers,this._stdErrSerialize),t.asObject||t.formatters?c.call(d,function(e,t,r,s,i={}){const{level:a=(()=>e.levels.values[t]),log:o=(e=>e)}=i;e._serialize&&f(r,e._serialize,e.serializers,e._stdErrSerialize);const c=r.slice();let l=c[0];const d={};s&&(d.time=s),d.level=a(t,e.levels.values[t]);let u=1+(0|e._childLevel);if(u<1&&(u=1),null!==l&&"object"==typeof l){for(;u--&&"object"==typeof c[0];)Object.assign(d,c.shift());l=c.length?n(c.shift(),c):void 0}else"string"==typeof l&&(l=n(c.shift(),c));return void 0!==l&&(d.msg=l),o(d)}(this,i,l,o,t.formatters)):c.apply(d,l),t.transmit){const n=t.transmit.level||e._level,s=r.levels.values[n],c=r.levels.values[i];if(c<s)return;!function(e,t,r){const n=t.send,s=t.ts,i=t.methodLevel,a=t.methodValue,o=t.val,c=e._logEvent.bindings;f(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter((function(e){return-1===c.indexOf(e)})),e._logEvent.level.label=i,e._logEvent.level.value=a,n(i,e._logEvent,o),e._logEvent=p(c)}(this,{ts:o,methodLevel:i,methodValue:c,transmitLevel:n,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:a(e._level,r)},l)}};var c}(e,t,r,i);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let r=e[c];for(;r.parent;)r=r.parent,r.logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[i]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[i]))}function f(e,t,r,n){for(const s in e)if(n&&e[s]instanceof Error)e[s]=u.stdSerializers.err(e[s]);else if("object"==typeof e[s]&&!Array.isArray(e[s]))for(const n in e[s])t&&t.indexOf(n)>-1&&n in r&&(e[s][n]=r[n](e[s][n]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function b(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)void 0===t[r]&&(t[r]=e[r]);return t}function m(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?v:w}function h(){return{}}function y(e){return e}function _(){}function v(){return!1}function w(){return Date.now()}u.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},u.stdSerializers=i,u.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:w,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=u,e.exports.pino=u}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e}(),function(){const e=self,t=200,n=206,s="handleGetRequest:",i="assets",a="Content-Security-Policy";const o="/api/",c="get_tasks",l="[ SW ]",d={"Content-Type":"application/json; charset=utf-8"},u="RELOAD_PAGE",g="SKIP_WAITING",f="create_category",p="update_category",b="delete_category",m="create_task",h="update_task",y="delete_task",_="clear_tasks",v="import_tasks";const w="tasks",k="kv-storage";async function S(t){if(t.icons&&t.icons.length>0){let r;const n=JSON.stringify(t),s=await caches.open(k),i=await s.match(w);void 0!==i&&(r=await i.text()),void 0!==i&&r===n||(e.logger.debug("üì• —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∫—ç—à",t),await s.put(w,new Response(n,{headers:new Headers({...d,"Content-Length":String(n.length)})})))}}let j={tasks:[],categories:[],priorities:[],icons:[]};function x(){return e.logger.debug("getState",j),j}async function O(t){j=t,e.logger.debug("setState",t),await S(t)}function E(e){const t=new Date;return t.setDate(t.getDate()+e),t.toISOString()}const $={icons:[{icon_id:1,file_name:"page.png"},{icon_id:2,file_name:"home.png"},{icon_id:3,file_name:"other.png"},{icon_id:4,file_name:"warning.png"},{icon_id:5,file_name:"alert.png"},{icon_id:6,file_name:"ball.png"},{icon_id:7,file_name:"bug.png"},{icon_id:8,file_name:"cart.png"},{icon_id:9,file_name:"favorite.png"},{icon_id:10,file_name:"inbox.png"},{icon_id:11,file_name:"life.png"},{icon_id:12,file_name:"mail.png"},{icon_id:13,file_name:"twitter.png"},{icon_id:14,file_name:"note.png"}],priorities:[{priority_id:1,priority_name:"–Ω–∏–∑–∫–∏–π"},{priority_id:2,priority_name:"–Ω–æ—Ä–º–∞–ª—å–Ω—ã–π"},{priority_id:3,priority_name:"–ø–æ–≤—ã—à–µ–Ω–Ω—ã–π"},{priority_id:4,priority_name:"–≤—ã—Å–æ–∫–∏–π"}],categories:[{category_id:1,icon_id:3,category_name:"–†–∞–±–æ—Ç–∞"},{category_id:2,icon_id:2,category_name:"–î–æ–º"},{category_id:3,icon_id:6,category_name:"–ó–¥–æ—Ä–æ–≤—å–µ"},{category_id:4,icon_id:7,category_name:"–§–∏–≥–Ω—è"}],tasks:[{task_id:1,priority_id:1,category_id:1,title:"Todo1",deleted:!1},{task_id:2,priority_id:2,category_id:2,title:"Hover your mouse over a project or item and click the icon on the right side of the item for more",expire_date_time:E(-1)},{task_id:3,priority_id:3,category_id:3,title:"Todo3",expire_date_time:function(e){const t=new Date;return t.setMinutes(t.getMinutes()+e),t.toISOString()}(1)},{task_id:4,priority_id:4,category_id:1,title:"Todo4",expire_date_time:E(1),completed:!0,deleted:!1},{task_id:5,priority_id:4,title:"Todo5"},{task_id:6,category_id:4,priority_id:4,title:"Todo6",completed:!0,deleted:!1},{task_id:7,priority_id:2,title:"Todo7",completed:!0,deleted:!0}]};async function z(){let t=x();const r=await caches.open(k),n=await r.match(w);if(t.icons&&0===t.icons.length){if(e.logger.debug("–≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ sw –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö"),void 0!==n){e.logger.debug("–¥–∞–Ω–Ω—ã–µ sw –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤ –∫—ç—à–µ");const r=await n.json();if(e.logger.debug("–ø–æ–ª—É—á–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ sw –∏–∑ –∫—ç—à–∞",r),r)return t=r,await O(t),t}if(e.logger.debug("–≤ –∫—ç—à–µ –Ω–µ—Ç –¥–∞–Ω–Ω—ãx —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ sw"),t.icons&&0===t.icons.length)return e.logger.debug("–∑–∞–≥—Ä—É–∑–∫–∞–µ–º –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã–µ sw –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é"),await O($),$}return n||await S(t),t}async function L(){await async function(){const t=await caches.open(i);let r=(await t.keys()).map((e=>new URL(e.url).pathname));const n=r.filter((t=>!e.assets.includes(t)));n.length>0&&(e.logger.debug("activate: –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫—ç—à–µ assets",r),await Promise.all(n.map((async n=>{e.logger.debug("activate: —É–¥–∞–ª—è–µ–º asset, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä–∞",n),await t.delete(n),r=r.filter((e=>e!==n))}))));const s=e.assets.filter((e=>!r.includes(e)));s.length>0&&(e.logger.debug("activate: –∑–∞–≥—Ä—É–∑–∫–∞–µ–º assets –≤ –∫—ç—à",s),await t.addAll(s),e.logger.debug("activate: ‚úÖ –∑–∞–≥—Ä—É–∑–∫–∞ assets –≤ –∫—ç—à –∑–∞–≤–µ—Ä—à–µ–Ω–∞"))}(),await z(),e.logger.debug(`activated: version: ${e.VERSION} id: ${e.id}`),await async function(){e.logger.debug(`–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º ${u}`),e.clients.matchAll().then((e=>{e.forEach((e=>e.postMessage({type:u})))}))}()}var T=r(874);const q="debug",I=()=>{};function A(e,t,r){const n="matchMedia"in globalThis&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return[r.length>0?r.map((e=>Object.values(e))).flat().map((e=>`%c${e}`)).join(""):"",...r.length>0?r.map((e=>Object.values(e))).flat().map((r=>`color: ${e[r]?.[t||n]||"black"}; font-weight: bold;`)):""].filter(Boolean)}const{info:R,warn:N,error:C,debug:W}=console,P={debug:W,info:R,warn:N,error:C};class D{pinoInstance;colorSchema;defaultLightSchema;constructor(e,t,r,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r=void 0),void 0===n&&(n=void 0),this.colorSchema=t,this.defaultLightSchema=r,n)this.pinoInstance=n;else{const t=(0,T.pino)({browser:{serialize:!1,asObject:!1,transmit:{level:q,send:(e,t)=>{const r=T.pino.levels.values[this.pinoInstance.level];if(T.pino.levels.values[e]>=r){const r=t.messages.flat();!function(e,t,r){const n=P[e];n&&(t.length>0?n(...t,...r):n(...r))}(e,A(this.colorSchema,this.defaultLightSchema,t.bindings),r)}}},write:I}});this.pinoInstance=e?t.child(e):t}this.pinoInstance.level=q}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pinoInstance.info(t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pinoInstance.warn(t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pinoInstance.error(t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pinoInstance.debug(t)}child(e){const t=this.pinoInstance.child(e);return new D(e,this.colorSchema,this.defaultLightSchema,t)}}const G=e=>{const t=()=>{throw new Error(e||"–ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É.")};return new Proxy((()=>{}),{get:t,apply:t})};let M=G(`–ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É ${"swLogger"}`);M=new D({layer:l},{[l]:{light:"#007aff",dark:"#9982f6"}},void 0);let J=(e=>G(`–ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É DI —Å–µ—Ä–≤–∏—Å–∞ ${e}`))("browser");const V=["/my-tasks/alert.476b00abda902b398be7.png","/my-tasks/android-chrome-192x192.1cfc30bbcbf340fc741d.png","/my-tasks/android-chrome-512x512.558e975c145ffb2a28fd.png","/my-tasks/android-chrome-maskable-192x192.126708023a549b771f76.png","/my-tasks/android-chrome-maskable-512x512.d40a692f812ed7f5e7e3.png","/my-tasks/app.8486499ab1ca1b22bec4.js","/my-tasks/apple-touch-icon.7cb6aa9a5fc2e73f0df5.png","/my-tasks/ball.3d996bafa729a1d3f580.png","/my-tasks/budarin.579fe5ae40e48f359c5f.js","/my-tasks/bug.83b52ad3ded9ef1fbd18.png","/my-tasks/cart.2d640112b4b86b627ff7.png","/my-tasks/error.8ad17092b67f41ed6f08.mp3","/my-tasks/expired.45d759abb485d88b78aa.svg","/my-tasks/favicon-32x32.88ac8115acd8f90a85e8.png","/my-tasks/favicon.31159ba4d345a313888e.ico","/my-tasks/favorite.7f0174c25660ef72df60.png","/my-tasks/folder_red.66f2d7c840bd3b9aed95.png","/my-tasks/help.83136d93df7a9872ae11.svg","/my-tasks/home.3e40fe2b97b19c75dfaf.png","/my-tasks/icon.3e6067cba439e4ebbe1b.svg","/my-tasks/inbox.58a834f614e341f9c578.png","/my-tasks/install-pwa.3d7d93affc3b234a02a9.png","/my-tasks/life.5896aaa56394aa0273b3.png","/my-tasks/mail.4a4239588f1b0d37bcfc.png","/my-tasks/main.98d335d6ad22ea899585.js","/my-tasks/next.4b695e6dc3fabdcc84b4.png","/my-tasks/note.8e112a51a84fa9c09b11.png","/my-tasks/note5.abc5ade9f6cd6928e96d.png","/my-tasks/npms.7150913d063fac613b5d.js","/my-tasks/other.66c872e04e2846cafa68.png","/my-tasks/page.9d1fc4484b1e5929b7ee.png","/my-tasks/react.0e395b1e4effc40cc25d.js","/my-tasks/refresh.7c9f0768269a6bbec081.png","/my-tasks/runtime.1d828460e2ec587ec0a0.js","/my-tasks/settings.231ef2d68a51da6cad41.svg","/my-tasks/share.ffc5f2b689d17d39785e.svg","/my-tasks/state.c56984d48249544ade49.svg","/my-tasks/today.141e3d87afbd71da541c.png","/my-tasks/trash.3e03c195726c2cccdc94.gif","/my-tasks/twitter.5556cda0273e796d6a65.png","/my-tasks/warning.4f48c087dcbbdb3bd268.png","/my-tasks/manifest.c1704a973f934cb56785f497f5fb9683.webmanifest","/my-tasks/offline.99f72503fde2bfc6efd1d4ad93137f5a.html"];function F(t){e.logger.error("–Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–≤–æ—Ä–∫–µ—Ä–∞",t)}function U(e,t,r){return new Response(JSON.stringify({id:e,error:{code:500,message:t,data:r}}),{headers:d,status:200})}function B(){return J.navigator.userAgent.toLowerCase().includes("chrome")||J.navigator.userAgent.toLowerCase().includes("chromium")}const H="/my-tasks/",Q=e=>e.startsWith(`${H}offline.`)&&e.endsWith(".html"),Z="default-src 'none'; base-uri 'none'; object-src 'none'; connect-src 'self'; media-src 'self'; manifest-src 'self'; img-src 'self' data: ; worker-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'sha384-oULjRiaR7R6nvCPg6Sw2W1cQSG9-IB1d3pMwNafpGnxROqD92PL8swF7h4tYVBuv' 'sha384-Ul13hXxd26CuGKdSBqjdxgWgvOJ0LujQd8PL_Qms8nl8pC94Ey-zBvlEhpvMv9Na' 'sha384-TMg2vXCz1pe78f0G_8B9RdKdv-7zh9C3kUwiuVJ3dEq9f-662JOGLGwxDgfWZq1q' 'sha384-O4NJ8o578_xFnwY1GNBQFHOdbE4vRAM-Oiid7NQ4SLIuSwj54qeQlH5F6H0WCouF' 'sha384-bYkYCMxw_9t2TKqcoxdJAsTWc2ASc3EVpKc4-algjE-VZN67KRSeOdDcuZ6RjENv' 'sha384-TZEZHIBS8ZqwhEoOEzW8xa5IkpcdeydqdCZn3H_v3aCxcSHCiXR1hrnctJDnL90k' 'sha384-8Wl-NqzOMpToEc3N2iF52P0PBiJT_SzcPGluZ17n0wPxlK-XDUqrU5w_xWraKAJB' 'sha384-uQttqt0-89xMQn8PGb0cCwG-Ebzkrljt9WsdWvyGVuYCCQGgpDmxwpFslY66iGlL'; font-src 'self' data:; require-trusted-types-for 'script'; trusted-types webpack-tt svg-policy default;";async function K(r,o,c){const l=await caches.open(i),d=await l.match(o);if(d){if(Q(o)&&!d.headers.get(a)){const t=d.clone(),r=new Headers(d.headers);r.set(a,Z);try{let e=await d.text();B()&&(e=e.replace(/<script id="tt"[\s\S]*?<\/script>/gi,""));const n=new Response(e,{status:t.status,statusText:t.statusText,headers:r});return await l.put(o,n.clone()),n}catch(t){return e.logger.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ CSP –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:",t),d}}return d}return e.logger.debug(s,"–Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –≤ –∫—ç—à–µ - –∑–∞–≥—Ä—É–∑–∫–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞",c),async function(r,o){let c;const l=await fetch(r,{keepalive:!0});if(null===l.body)return l;const d=new Headers(l.headers);if(l.status===n){const e=await l.blob(),t=await e.arrayBuffer();c=new Response(t,{headers:d})}else{let e;Q(r)?(e=await l.text(),d.set(a,Z),B()&&(e=e.replace(/<script id="tt"[\s\S]*?<\/script>/gi,""))):e=await l.blob(),c=new Response(e,{headers:d,status:l.status,statusText:l.statusText})}e.logger.debug(s,"–∑–∞–≥—Ä—É–∑–∏–ª–∏ —Ä–µ—Å—É—Ä—Å —Å —Å–µ—Ä–≤–µ—Ä–∞",o);const u=c.status===t;if(!1===u)return e.logger.debug("‚õîÔ∏è",s,"—Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω",o,"-",l.status),l;u&&e.assets.includes(o)&&(e.logger.debug(s,"—Ä–µ—Å—É—Ä—Å –∏–∑ assest - –∫–ª–∞–¥–µ–º –≤ –∫—ç—à",o),(await caches.open(i)).put(r,c.clone()));return e.logger.debug(s,"–æ—Ç–¥–∞–µ–º —Ä–µ—Å—É—Ä—Å –±—Ä–∞—É–∑–µ—Ä—É",o),c}(o,c)}function Y(e){void 0===e&&(e=Date.now());const t=new Uint8Array(10);!function(e){if(void 0!==globalThis.crypto&&"function"==typeof globalThis.crypto.getRandomValues)return globalThis.crypto.getRandomValues(e);if("function"==typeof require){const t=require("crypto").randomBytes(e.length);return e.set(t),e}throw new Error("Secure random number generation is not supported in this environment.")}(t);const r=e.toString(16).padStart(12,"0"),n=function(e){let t="";for(let r=0;r<e.length;r++){const n=e[r].toString(16);t+=2===n.length?n:"0"+n}return t}(t);return`${r.substring(0,8)}-${r.substring(8)}-${n.substring(0,4)}-${n.substring(4,8)}-${n.substring(8)}`}function X(e){if(e)return e[0].toUpperCase()+e.slice(1).toLowerCase()}function ee(e){return"number"==typeof e&&Number.isInteger(e)}const te=(e,t)=>`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${e} "${t}" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º`;function re(e,t){return void 0===t&&(t=65536),r=>"string"==typeof r&&r.length>=e&&r.length<=t}const ne=(e,t,r,n)=>`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${e} "${t}" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π –¥–ª–∏–Ω–æ–π –æ—Ç ${r} –¥–æ ${n} —Å–∏–º–≤–æ–ª–æ–≤`;const se=(e,t,r,n)=>{const s={error:{message:`–°—É—â–Ω–æ—Å—Ç—å "${n}" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º`,data:e}};if(!1===function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}(e))return s;const i=r(e);if(void 0===i)return s;const a=Object.keys(t);for(let r=0;r<a.length;r++){const s=a[r],o=t[s];if(!0===o.required&&void 0===i[s])return{error:{message:`–°–≤–æ–π—Å—Ç–≤–æ "${s}" —Å—É—â–Ω–æ—Å—Ç–∏ ${n} –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç`,data:e}};for(let t=0;t<o.validators.length;t++){const r=o.validators[t];if(!1===r[0](i[s]))return{error:{message:r[1],data:e}}}}return{result:i}},ie="–ö–∞—Ç–µ–≥–æ—Ä–∏—è";function ae(e){const{icon_id:t,category_name:r}=e||{};return{icon_id:Number(t),category_name:X(r)}}const oe={icon_id:{validators:[[ee,te(ie,"icon_id")]],required:!0},category_name:{validators:[[re(3,20),ne(ie,"category_name",3,20)]],required:!0}},ce=e=>se(e,oe,ae,ie);function le(e){const{category_id:t,icon_id:r,category_name:n}=e||{};return{category_id:Number(t),icon_id:Number(r),category_name:X(n)}}const de={category_id:{validators:[[ee,te(ie,"category_id")]],required:!0},...oe},ue=e=>se(e,de,le,ie);function ge(e){return t=>void 0===t||e(t)}function fe(e){return"boolean"==typeof e}function pe(e,t){return`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${e} "${t}" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å undefined –∏–ª–∏ boolean`}const be="–ó–∞–¥–∞—á–∞",me=1e3;function he(e){const{title:t,priority_id:r,category_id:n,description:s,expire_date_time:i,deleted:a,completed:o}=e||{};return{title:X(t),priority_id:Number(r),category_id:n?Number(n):void 0,description:s,expire_date_time:i,deleted:a,completed:o}}const ye={title:{validators:[[re(3,100),ne(be,"title",3,100)]],required:!0},priority_id:{validators:[[ee,te(be,"priority_id")]],required:!0},category_id:{validators:[[ge(ee),function(e,t){return`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${e} "${t}" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å undefined –∏–ª–∏ —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º`}(be,"category_id")]]},description:{validators:[[ge(re(3,me)),ne(be,"description",3,me)]]},expire_date_time:{validators:[[ge((function(e){return/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/.test(e)})),`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${be} "expire_date_time" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–∞—Ç–æ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO`]]},deleted:{validators:[[ge(fe),pe(be,"deleted")]]},completed:{validators:[[ge(fe),pe(be,"completed")]]}},_e=e=>se(e,ye,he,be);function ve(e){const{task_id:t,title:r,priority_id:n,category_id:s,description:i,expire_date_time:a,deleted:o,completed:c}=e||{};return{task_id:Number(t),title:X(r),priority_id:Number(n),category_id:s?Number(s):void 0,description:i,expire_date_time:a,deleted:o,completed:c}}const we={task_id:{validators:[[ee,te(be,"task_id")]],required:!0},...ye},ke=e=>se(e,we,ve,be);var Se=r.p+"476b00abda902b398be7.png",je=r.p+"3d996bafa729a1d3f580.png",xe=r.p+"83b52ad3ded9ef1fbd18.png",Oe=r.p+"2d640112b4b86b627ff7.png",Ee=r.p+"7f0174c25660ef72df60.png",$e=r.p+"3e40fe2b97b19c75dfaf.png",ze=r.p+"58a834f614e341f9c578.png",Le=r.p+"5896aaa56394aa0273b3.png",Te=r.p+"4a4239588f1b0d37bcfc.png",qe=r.p+"66c872e04e2846cafa68.png",Ie=r.p+"9d1fc4484b1e5929b7ee.png",Ae=r.p+"141e3d87afbd71da541c.png",Re=r.p+"5556cda0273e796d6a65.png",Ne=r.p+"4f48c087dcbbdb3bd268.png",Ce=r.p+"66f2d7c840bd3b9aed95.png",We=r.p+"4b695e6dc3fabdcc84b4.png",Pe=r.p+"8e112a51a84fa9c09b11.png",De=r.p+"abc5ade9f6cd6928e96d.png";r.p,r.p,r.p,r.p,r.p,r.p,r.p;function Ge(e){return"string"==typeof e}function Me(e,t){return`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${e} "${t}" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π`}function Je(e){return t=>e.includes(t)}function Ve(e,t){return`–°–≤–æ–π—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–∏ ${e} "${t}" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–∑ —Å–ø–∏—Å–∫–∞`}const Fe="others",Ue="settings",Be="about",He="store_state",Qe=[Ue,Be,He];const Ze="–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä",Ke=(Me(Ze,"title"),Je(Qe),Ve(Ze,"title"),Me(Ze,"type"),"filter"),Ye="inbox",Xe="trash",et="expired",tt="completed",rt=[Ye,et,tt,Xe];const nt="–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä",st=(Me(nt,"title"),Je(rt),Ve(nt,"title"),Me(nt,"type"),"calendar");const it="–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä",at=(te(it,"key"),Me(it,"type"),"category");const ot="–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä";te(ot,"key"),Me(ot,"type");function ct(e,t,r){return void 0===r&&(r=200),new Response(JSON.stringify({id:e,result:t}),{headers:d,status:r})}class lt{constructor(e,t){this.type=e,this.data=t}}async function dt(t,r){e.logger.debug("–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö",r),e.clients.matchAll().then((e=>{e.forEach((e=>{e.id!==t&&e.postMessage(r)}))}))}const ut=`${m}:`;function gt(e,t){const r=_e(t);if(!r.error){const n=r.result;if(!e.priorities.find((e=>e.priority_id===n.priority_id)))return{error:{message:"–ù–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞",data:t}};if(n.category_id){if(!e.categories.find((e=>e.category_id===n.category_id)))return{error:{message:"–ù–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",data:t}}}const s=e.tasks.at(-1)?.task_id||0,i={...n,task_id:s+1};return e.tasks.push(i),{result:i}}return r}const ft=`${h}:`;async function pt(t){const{request:r}=t;e.logger.debug(ft);const n=x(),{id:s,params:i}=await r.json(),a=function(e,t){const r=ke(t);if(r.result){const n=r.result,s=e.tasks.findIndex((e=>e.task_id===n.task_id));return-1===s?{error:{message:"–ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",data:t}}:e.priorities.find((e=>e.priority_id===n.priority_id))?n.category_id&&!e.categories.find((e=>e.category_id===n.category_id))?{error:{message:"–ù–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",data:t}}:(e.tasks[s]=n,{result:n}):{error:{message:"–ù–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞",data:t}}}return r}(n,i);if(a.result){const r=a.result;return await O(n),e.logger.debug(`${ft} –∑–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞`,r),await dt(t.clientId,new lt(h,r)),ct(s,r)}return U(s,a.error.message,a.error.data)}function bt(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((r=>n.includes(r)&&bt(e[r],t[r])))}const mt=`${y}:`;async function ht(t){const{request:r}=t;e.logger.debug(mt);const n=x(),{id:s,params:i}=await r.json(),a=function(e,t){const r=ke(t);if(r.result){const n=r.result,s=e.tasks.findIndex((e=>bt(ve(e),ve(n))));return-1===s?{error:{message:"–ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",data:t}}:(e.tasks.splice(s,1),{result:n})}return r}(n,i);if(a.result){const r=a.result;return await O(n),e.logger.debug(`${mt} –∑–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞`,r),await dt(t.clientId,new lt(y,r)),ct(s,r)}return U(s,a.error.message,a.error.data)}const yt="createCategory:";function _t(e,t){const r=ce(t);if(r.result){const n=r.result,s=e.categories.find((e=>e.category_name===n.category_name));if(s)return{error:{message:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",data:t}};if(!e.icons.find((e=>e.icon_id===n.icon_id)))return{error:{message:"–ù–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∫–æ–Ω–∫–∏",data:t}};const i=e.categories.at(-1)?.category_id||0,a={...n,category_id:i+1};return e.categories.push(a),{result:a}}return r}const vt="updateCategory:";async function wt(t){const{request:r}=t;e.logger.debug(vt);const n=x(),{id:s,params:i}=await r.json(),a=function(e,t){const r=ue(t);if(r.result){const n=r.result;let s=e.categories.findIndex((e=>e.category_id===n.category_id));return-1===s?{error:{message:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",data:t}}:e.categories.find((e=>e.category_name===n.category_name&&e.category_id!==n.category_id))?{error:{message:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",data:t}}:e.icons.find((e=>e.icon_id===n.icon_id))?(s=e.categories.findIndex((e=>e.category_id===n.category_id)),e.categories[s]=n,{result:n}):{error:{message:"–ù–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∫–æ–Ω–∫–∏",data:t}}}return r}(n,i);if(a.result){const r=a.result;return O(n),e.logger.debug(vt,"–∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞",r),await dt(t.clientId,new lt("update_category",r)),ct(s,r)}return U(s,a.error.message,a.error.data)}const kt="deleteCategory:";async function St(t){const{request:r}=t;e.logger.debug(kt);const n=x(),{id:s,params:i}=await r.json(),a=function(e,t){const r=ue(t);if(r.result){const n=r.result,s=e.categories.findIndex((e=>bt(e,n)));return-1===s?{error:{message:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",data:t}}:e.tasks.find((e=>e.category_id===n.category_id))?{error:{message:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–¥–∞—á–∞—Ö",data:t}}:(e.categories.splice(s,1),{result:n})}return r}(n,i);if(a.result){const r=a.result;return O(n),e.logger.debug(kt,"–∫–∞—Ç–µ–≥–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞",r),await dt(t.clientId,new lt("delete_category",r)),ct(s,r)}return U(s,a.error.message,a.error.data)}function jt(e){const t=(r=e.tasks,"structuredClone"in globalThis?J.structuredClone(r):r);var r;return e.tasks=[],{result:t}}const xt=`${_}:`;const Ot=`${v}:`;async function Et(t,r){switch(0===x().icons.length&&await z(),r){case c:return async function(e){const{request:t}=e,r=await z(),n=t.headers.get("x-request-id");return new Response(JSON.stringify({id:n,result:r}),{headers:d,status:200})}(t);case f:return async function(t){const{request:r}=t;e.logger.debug(yt,r);const n=x(),{id:s,params:i}=await r.json(),a=_t(n,i);if(a.result){const r=a.result;return await O(n),e.logger.debug(`${yt} –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞`,r),await dt(t.clientId,new lt("create_category",r)),ct(s,r)}return U(s,a.error.message,a.error.data)}(t);case p:return wt(t);case b:return St(t);case m:return async function(t){const{request:r}=t;e.logger.debug(ut);const n=x(),{id:s,params:i}=await r.json(),a=gt(n,i);if(a.result){const r=a.result;return await O(n),e.logger.debug(`${ut} –∑–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞`,r),await dt(t.clientId,new lt(m,r)),ct(s,r)}return U(s,a.error.message,a.error.data)}(t);case h:return pt(t);case y:return ht(t);case _:return async function(t){const{request:r}=t;e.logger.debug(xt);const n=x(),{id:s}=await r.json(),i=jt(n);if(i.result){const r=i.result;return await O(n),e.logger.debug(`${xt} –∑–∞–¥–∞—á–∏ —É–¥–∞–ª–µ–Ω—ã`,r),await dt(t.clientId,new lt(_)),ct(s,r)}return U(s,i.error.message,i.error.data)}(t);case v:return async function(t){const{request:r}=t,n={failed:{categories:[],tasks:[]},imported:{categories:[],tasks:[]}},s={categories:[]},{id:i,params:a}=await r.json();if(e.logger.debug(Ot,a),a){const e=x(),{tasks:r,categories:o}=a;if(!(r&&Array.isArray(r)&&o&&Array.isArray(o)))return U(i,"–ù–µ –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ");for(let t=0;t<r.length;t++){const i=r[t];let a;if(i.category_id){const t=o.find((e=>e.category_id===i.category_id));t&&(s.categories.includes(t.category_name)||(a=_t(e,t),a.error?n.failed.categories.push(a.error):n.imported.categories.push(a.result),s.categories.push(t.category_name)))}e.tasks.find((e=>e.title===i.title&&e.description===i.description&&e.priority_id===i.priority_id&&e.category_id===i.category_id&&e.completed==i.completed&&e.deleted==i.deleted&&e.expire_date_time==i.expire_date_time))?n.failed.tasks.push({message:"–ó–∞–¥–∞—á–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",data:i}):(a=gt(e,i),a.error?n.failed.tasks.push(a.error):n.imported.tasks.push(a.result))}(n.imported.categories.length>0||n.imported.tasks.length>0)&&O(e);const c=n.imported;return(c.categories.length>0||c.tasks.length>0)&&await dt(t.clientId,new lt(v,n.imported)),ct(i,n)}return U(i,"–ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏")}(t);case"/log/info":case"/log/warn":case"/log/error":return async function(e){const{request:t}=e,r=(await t.json()).id||Y();return new Response(JSON.stringify({id:r,result:"Ok"}),{headers:d,status:200})}(t);default:return Promise.resolve(new Response(JSON.stringify({error:{code:404,error:"Not found"}}),{headers:d,status:200}))}}var $t;$t=globalThis,J=$t,e.id=Date.now(),e.VERSION="1.11.27",e.assets=V,e.isRepearing=!1,e.logger=M,e.onerror=F,e.logger.debug("‚úÖ init","version:",e.VERSION,"id:",e.id),e.addEventListener("message",(function(t){t.data&&t.data.type===g&&(e.logger.debug(`–ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ: ${g}`),e.skipWaiting())})),e.addEventListener("fetch",(async function(t){const r=t.request,n=function(e){const{pathname:t}=new URL(e);return t.startsWith(o)?t.slice(o.length):t}(r.url);switch(e.logger.debug("handleFetchEvent",{id:e.id,method:r.method,url:r.url}),r.method){case"GET":return async function(){const t=await caches.open(i),r=(await t.keys()).map((e=>new URL(e.url).pathname)),n=e.assets.filter((e=>!r.includes(e)&&!e.startsWith("/offline.")));if(n.length>0&&!e.isRepearing){e.isRepearing=!0,e.logger.warn("üÜò –ö—ç—à assets –ø–æ–≤—Ä–µ–∂–¥–µ–Ω! –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã: ",n);try{await t.addAll(n),e.logger.debug("‚úÖ –ö—ç—à assets –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")}finally{e.isRepearing=!1}}}(),void await async function(t,r){if(e.logger.debug(s,r),"document"!==t.request.destination||r!==H)e.assets.includes(r)&&t.respondWith(K(0,t.request.url,r));else{const r=e.assets.find((e=>e.startsWith(`${H}offline.`)&&e.endsWith(".html")))||"";t.respondWith(K(0,r,r))}}(t,n);case"POST":try{e.logger.debug("handleFetchEvent: –ø—ã—Ç–∞–µ–º—Å—è –æ—Ç–¥–∞—Ç—å –æ—Ç–≤–µ—Ç",t),t.respondWith(async function(e,t){return Et(e,t)}(t,n))}catch(r){e.logger.error("handleFetchEvent: –û—à–∏–±–∫–∞ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞",r,t)}return;default:e.logger.error("handleFetchEvent: –ù–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–π http –º–µ—Ç–æ–¥",t),t.respondWith(U(-1,"–ù–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–π http –º–µ—Ç–æ–¥"))}})),e.addEventListener("install",(async function(t){t.waitUntil(async function(){const t=await caches.open(i),r=(await t.keys()).map((e=>new URL(e.url).pathname));e.logger.debug("install: –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫—ç—à–µ assets",r);const n=e.assets.filter((e=>!r.includes(e)));e.loadedAssets=n,n.length>0&&(e.logger.debug("install: –∑–∞–≥—Ä—É–∑–∫–∞–µ–º assets –≤ –∫—ç—à",n),await t.addAll(n),e.logger.debug("install: ‚úÖ –∑–∞–≥—Ä—É–∑–∫–∞ assets –≤ –∫—ç—à –∑–∞–≤–µ—Ä—à–µ–Ω–∞")),e.logger.debug(`installed: version: ${e.VERSION} id: ${e.id}`)}())})),e.addEventListener("activate",(async function(t){t.waitUntil(L()),t.waitUntil(e.clients.claim())}))}()}();